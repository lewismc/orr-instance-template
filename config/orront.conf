##############################################################################
# This is the master ORR configuration file.
##############################################################################

## The ${...} substitution syntax (e.g., ${branding.instanceName}) allows to
## refer # to the value assigned to a specific entry elsewhere in this file.
## The ${?...} substitution syntax allows to override settings via environment
## variables. See
## https://github.com/typesafehub/config#optional-system-or-env-variable-overrides

## ---------------------------------------------------------------------------
## There will be an "admin" user automatically created upon initial start of
## the ORR. This user will have all privileges on your ORR instance.
admin {
  ## (required) Password to be given to the ORR 'admin' user.
  password = "actual-admin-pw"

  ## (required) Email address associated with the ORR 'admin' user.
  email = "jane@example.com"

  ## (optional) comma-separated list of additional usernames to be granted
  ## admin privilege right upon creation of the corresponding account.
  #extra = "foo, bar"
}

## ---------------------------------------------------------------------------
## User authentication
auth {
  ## (required) A strong password to generate authentication tokens.
  secret = "actual-strong-password"
}

## ---------------------------------------------------------------------------
## Info about the deployment of this ORR instance.
deployment {
  ## (required) The (external) URL of this ORR instance. No trailing slash.
  url = "http://localhost:9090/ont"

  ## (required) The (external) URL of the SPARQL endpoint. No trailing slash.
  sparqlEndpoint = "http://localhost:9090/sparql"
}

## ---------------------------------------------------------------------------
branding {
  ## (required) A short name used in email messages and other places.
  instanceName = "MyORR"

  ## (optional) HTML fragment to be inserted right before </body>
  footer = """
  <div align="center">
    MyORR footer
  </div>
  """

  ## (optional) URL of image to show in the page header.
  ## By default, this will be MMI ORR's logo.
  #logo = "?"

  ## (optional) URL for "Terms of Use" link.
  ## No default value (so no such link is shown).
  #tou = "?"

  ## (optional) "Contact us" link.
  ## No default value (so no such link is shown).
  ## Examples: "https://somewhere/contactus", "mailto:addr@example.net"
  #contactUs = "mailto:"${admin.email}
}

## ---------------------------------------------------------------------------
## Optional section.
#googleAnalytics {
#  propertyId = "?"
#}

## ---------------------------------------------------------------------------
## Optional section.
## See https://www.google.com/recaptcha/intro/.
#recaptcha {
#  privateKey = "?"
#  siteKey    = "?"
#}

## ---------------------------------------------------------------------------
## MongoDB
mongo {
  ## (required) Name of Mongo database to be used for ORR purposes.
  ## Can be changed if desired/needed.
  db = "orr-ont"

  ## (required) Mongo server host. Should be same value as indicated in
  ## `docker-compose.yml` for the environment of the orr service.
  host = "mongo"

  ## (required) Mongo server port. Should be same value as indicated in
  ## `docker-compose.yml` for the environment of the orr service.
  port = 27017
}

## ---------------------------------------------------------------------------
## files: managed file locations.
files {
  ## DO NOT change this.
  baseDirectory = "/opt/orr-ont-base-directory"
}

## ---------------------------------------------------------------------------
## AllegroGraph server (which supports the triple store and SPARQL endpoint)
agraph {
  ## (required) The AG username to access the triple store
  userName = "test"

  ## (required) The password for the AG username above:
  password = "actual-pw"

  ## (required) Name of the AG repository for the ORR.
  ## Can be changed if desired.
  repoName  = "mmiorr"

  ## (required) AGraph server host. Should be same value as indicated in
  ## `docker-compose.yml` for the environment of the orr service.
  host = "agraph"

  ## (required) AGraph server port. Should be same value as indicated in
  ## `docker-compose.yml` for the environment of the orr service.
  port = 10035

  ## DO NOT change:
  sparqlEndpoint = "http://"${agraph.host}":"${agraph.port}/repositories/${agraph.repoName}

  ## initDelay: (optional) Re-attempt triple store initialization after this delay.
  initDelay = 20 seconds
}

## ---------------------------------------------------------------------------
## (Required) email related information used for user account management and
## notifications.
email {
  ## (required) account used for sending emails
  account {
    username = "baz@example.net"
    password = "actual-pw"
  }

  ## (required) corresponding email server for the account above.
  server {
    host = "?"
    port = 465
    prot = "smtps"
    debug = false
  }

  ## info used to compose emails (when user resets password; notifications
  ## about registrations, etc.):
  from    = ${branding.instanceName}" <"${admin.email}">"
  replyTo = ${admin.email}
  mailer  = ${branding.instanceName}
}
